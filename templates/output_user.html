{% extends './layout.html' %}

{% block title %} Searchem Tool - {{ name }} {% endblock %}

{% block nav %}
<!-- Navigation-->
<nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top" id="mainNav">
    <div class="container">
        <a href="/{{ name }}"><img class="navbar-brand" src="../../static/icons/modified_tranparent_logo.svg" width="114" height="70" alt="..."></img></a>
        <button class="btn btn-primary navbar-toggler text-white" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            {{ name }}

        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav text-uppercase ms-auto py-4 py-lg-0">
                <li class="nav-item"><a class="nav-link" href="/{{ name }}/favourites">Favourites</a></li>
                <li class="nav-item"> <link href="../../static/icons/right-from-bracket-solid.svg"/><a class="nav-link" href="/logout">Log out</a></li>
            </ul>
        </div>
        </div>
    </div>
</nav>
{% endblock %}


{% block masthead %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<!-- Masthead-->
<header class="masthead">
    <div class="container position-relative">
        <div class="row justify-content-center cb1">
            <div class="col-xl-6">
                <div class="text-center text-white">
                    <!-- Page heading-->
                    <h1 class="mb-5">Searchem Tool</h1>
                    <!-- Signup form-->
                    <form action="/{{ name }}/result" method="post" class="form-subscribe" id="contactForm" data-sb-form-api-token="API_TOKEN">
                      <!-- Email address input-->
                      <div class="row">
                          <div class="col">
                              <input class="form-control form-control-lg" name="search_user" type="text" placeholder="Search in Searchem Tool" />
                          </div>
                          <div class="col-auto"><button class="btn btn-primary btn-lg" id="submitButton" type="submit">Search</button></div>
                      </div>
                      <h1></h1>
                      <p></p>
                        <div class="checkbox mb-3 text-white">
                            <p class="text-white">Searching for molecules by default, otherwise mark the target option</p>
                          <label>
                            <input type="radio" name="radio" value="molecule" checked> Molecule
                          </label>
                          <label>
                              <input type="radio" name="radio" value="target" class="ms-3"> Target
                          </label>
                          <p></p>
                            <label>
                                <input type="checkbox" name="agonist"> Agonist
                            </label>
                            <label>
                                <input type="checkbox" name="antagonist" class="ms-3"> Antagonist
                            </label>
                            <p></p>
                            <label>
                                <input type="checkbox" name="fisher"> Fisher Scientific 
                            </label>
                            <label>
                               <input type="checkbox" name="selleckchem" class="ms-3"> Selleckchem  
                            <label>
                                  <input type="checkbox" name="sigma" class="ms-3"> Sigma-Aldrich
                            </label>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</header>
{% endblock %}
{% block body %}

<style>
     :root {
        --color-blue: rgb(78, 101, 203);
        --color-purple: rgb(113, 75, 128);
        --color-pink: rgb(203, 66, 116);
        --transition-time: 10ms;
        --transition-ease: cubic-bezier(0.1, 0.7, 0.8, 0.3);
      }
      
      .toggle {
        display: flex;
        width: 10%;
        height: 10%;
        place-items: center;
        place-content: center;
      }
      
      #heart-check {
        visibility: hidden;
      }
      
      #heart {
        cursor: pointer;
      }
      #heart svg {
        width: 50px;
      }

      #heart #initial {
        stroke-width: 1.5;
        stroke: var(--color-pink);
        fill: transparent;
      }
      
      #heart-check:checked + #heart #initial {
        display: none;
      }
      #heart-check:checked + #heart #stroke {
        animation: stroke var(--transition-time) var(--transition-ease);
        animation-fill-mode: forwards;
      }
      
      @keyframes heart {
        from {
          transform: scale(1);
        }
        78% {
          transform: scale(1.25);
        }
        to {
          transform: scale(1);
        }
      }
      @keyframes stroke {
        from {
          stroke: var(--color-blue);
          fill: transparent;
        }
        50% {
          stroke: var(--color-purple);
        }
        85% {
          fill: transparent;
        }
        to {
          stroke-dashoffset: 0;
          stroke: var(--color-pink);
          fill: var(--color-pink);
        }
      }
.fa-heart-o {
  color: red;
  cursor: pointer;
}

.fa-heart {
  color: red;
  cursor: pointer;
}
</style>

<section class="bg-light">
  {% for v in mol %}
    {% if not mol[v] %}
        <div class="container">
          <br>
          <br>
            <h5 class="text-center text-muted">Sorry, any result has been found</h5>
          <br>
          <br>
        </div>
    {% else %}
    {% set h = namespace(t = 0) %}
      {% for r in mol[v] %}
        
          <div class="container my-1">
              <div class="modal-signin position-static d-block my-2" id="modalSignin">
                  <div>
                      <div class="modal-content rounded shadow">
                          <div class="row mt-2" style="align-items: center; align-content: center;">
                              <div class="col  ms-3">
                                  <h3>{{ r[1]|capitalize }}</h3>
                              </div>
                              <div class="col-auto me-3">
                                  <h3>{{ r[3]|capitalize }}</h3>
                                  
                              </div>
                              <div class="col-auto me-3">
                                <input type="checkbox" id="heart-check" name="{{  h.t  }}" value="{{ r[1] }}"> 
                                                <label for="heart-check" id="heart">
                                                    <svg viewBox="0 0 50 45" version="1.1" xmlns="http://www.w3.org/2000/svg">
                                                        <path id="initial" d="M11.8189091,20.3167303 C17.6981818,16.5505143 20.6378182,12.5122542 20.6378182,8.20195014 C20.6378182,5.99719437 18.8550242,4 16.3283829,4 C13.777264,4 12.5417153,6.29330284 11.8189091,6.29330284 C11.0961029,6.29330284 10.1317157,4 7.30943526,4 C4.90236126,4 3,5.64715533 3,8.20195014 C3,12.5122346 5.93963637,16.5504946 11.8189091,20.3167303 Z"></path>
                                                        <path id="stroke" fill="none" d="M11.8189091,20.3167303 C17.6981818,16.5505143 20.6378182,12.5122542 20.6378182,8.20195014 C20.6378182,5.99719437 18.8550242,4 16.3283829,4 C13.4628072,4 10.284995,6.64162063 10.284995,8.70392731 C10.284995,10.0731789 10.8851209,10.9874447 11.8189091,10.9874447 C12.7526973,10.9874447 13.3528232,10.0731789 13.3528232,8.70392731 C13.3528232,6.64162063 10.1317157,4 7.30943526,4 C4.90236126,4 3,5.64715533 3,8.20195014 C3,12.5122346 5.93963637,16.5504946 11.8189091,20.3167303 Z"></path>
                                                    </svg>
                                                </label>
                                {{  h.t  }}
                              </div>
                              {% set h.t = h.t + 1 %}                           
                          </div>    
                          <hr style="width: 98%;" class="mt-0 ms-2">
                          {% for i in range(0,brands|length) %}
                              <div class="row text-center" style="align-items: start;">
                                  <div class="col ms-2 mb-2">
                                      <h6>{{ r[4]|capitalize }}</h6>
                                  </div>
                                  <div class="col ms-2 mb-2">
                                      <h6>{{ brands[i] }}</h6>
                                  </div>
                                  <div class="col mb-2 ms-auto">
                                      <a href="{{ r[5+i] }}" target="_blank"><img style="height: 8%; width: 8%;" src="../static/icons/cart.png"/></a>
                                  </div>
                              </div>
                          {% endfor %}
                      </div>
                  </div>
              </div>
          </div>
        
      {% endfor %}
    {% endif %}
  </section>
  {% endfor %}
  
{% endblock %}
</html>
